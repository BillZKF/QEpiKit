<html>

<head>
	<link href="style.css" rel="stylesheet"></link>
</head>
<div id="main">
	<h1>
		QEpiKit Behavior Tree Examples
	</h1>
	<div>
		These behavior trees are based on the behavior tree and node definitions provided in <a href="http://ieeexplore.ieee.org/xpls/icp.jsp?arnumber=6907656"> Marzinotto, et al (2014)</a>. The "*" variations of the Selector and Sequence nodes were not included
		because they were not necessary in any of the modeling experiments so far. They may be added later if I figure out a role for them.
		The essentials:
		<ul>
			<li>Behavior trees are acyclic graphs.</li>
			<li>Starting at the root node (left-most in the diagrams below), they evaluate the graph depth first.</li>
			<li>In the examples below there are five node types (of two main types - leaf and control), each with different rules:
				<ul>
				<li>Conditions: Are leaf or childless nodes that check the agent state against a specified condition.</li>
				<li>Actions: Are leaf or childless nodes that check the agent state against a specified condition, and then perform an action, often changing the agent's state.</li>
				<li>Selectors: Are control nodes that evaluate each child node until one returns a SUCCESS in matching a condition.</li>
				<li>Sequencers: Are control nodes that evaluate each child node until one returns a FAILED in matching a condition.</li>
				<li>Parallels: Are control nodes that evaluate each child node and then checks how many SUCCESSes against a specified quantity of desired successes.</li>
			</ul>
			</li>
		</ul>
	</div>
	<h2>
		Infectious Disease Example
	</h2>
	<div id="p1">
		Behavior trees (BTs) can be used to create agent based models for the spread of an infectious disease. I used "measles-like" parameters to create this example of the spread of a disease through a population of 5000. Each individual was assigned a age, sex, body-mass.
		Based loosely on a few papers on contact patterns, I put each individual into several social contact groups, or patches. If the individual was between 3 and 18 years of age they were assigned to schools of ~600 students, individuals between 19 and 65 were assigned to a workplace of up to 500, and all individuals were also assigned to a community-patch with a population of ~1000. Children 18 and under were also assigned a parent.

	</div>
	<div id="measles-diagram" class="diagram">Running example...</div>
	<div>The scatterplot below shows the pattern of exposures by age of contacts. In this example I used a simple age based method for assigning contact frequncies to school, work, and community based contact patches. For the school based contact patches, children
		of the same age had almost daily contact with each other (bottom left). In the community, two individuals with a 20 year age difference would had very infrequent contact. Parent-child relationships were assigned regular daily contact.
		In addition to a contact frequency, I also assigned encounters between succeptible and infectious individuals a probability of transmission. For child to parent, for example, this was set at 0.7, while in the workplace this was set to 0.02.</div>
	<div id="measles-contact" class="diagram"></div>
	<div>Initially i wrote an seperate, specific function to generate some fake population data. After a few iterations of this I started using a seperate behavior tree to generate the population data and to set the contact groups for the pop. This was useful because it made it
		easy to create nested rules for assigning things like mass based on age and gender. This method could be further extended to assign individual attributes based on real world location based parameters.</div>
	<div id="measles-pop-gen" class="diagram"></div>
	<h2>
		Weight Change Example
	</h2>
	<div id="p2">
	</div>
	<div id="weight-diagram" class="diagram"></div>
</div>
<script src="../bower_components/d3/d3.min.js"></script>
<script src="qepikit-renderer.js"></script>
<script src="btree-examples.js"></script>
<script>
	startMeaslesEx()
</script>
</body>

</html>
